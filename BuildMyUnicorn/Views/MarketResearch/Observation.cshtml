@using Business_Model.Helper;


@section PageStyle
{
    <title>Build My Unicorn - Observation</title>
    <link href="~/assets/node_modules/wizard/steps.css" rel="stylesheet">
    <link href="~/assets/node_modules/sweetalert2/dist/sweetalert2.min.css" rel="stylesheet">
    <link href="~/Simple-Plain-Bar-Chart-Plugin-With-jQuery-barCharts/jquery.barCharts.css" rel="stylesheet" />
    <link href="~/assets/node_modules/Magnific-Popup-master/dist/magnific-popup.css" rel="stylesheet">
    <link href="~/assetsss/css/style.css" rel="stylesheet" />
    <link href="~/assets/node_modules/draggable-resizable-modal/css/modalbox.css" rel="stylesheet" />
    <link href="~/assets/node_modules/bootstrap-datepicker/bootstrap-datepicker.min.css" rel="stylesheet" type="text/css" />
    <link href="~/assets/node_modules/bootstrap-select/bootstrap-select.min.css" rel="stylesheet" />
    <link href="~/assets/node_modules/image-picker/image-picker.css" rel="stylesheet" />
    <style>
        .progress {
            // display: flex;
            // height: auto !important;
            width: 100%;
            // font-size: .65625rem;
            background-color: #303641;
            border-radius: .25rem;
            background: red;
            z-index: 0;
            //width: 500px;
            // height: 10px !important;
        }

        div.progress {
            height: 10px;
        }

        div.steps li a {
            // color: #fff !important;
        }


        .modal-dialog {
            position: relative;
            display: table;
            overflow: auto;
            width: auto;
            min-width: 300px;
        }

        .modal-body { /* Restrict Modal width to 90% */
            overflow-x: auto !important;
            max-width: 90vw !important;
        }

        .youtube-icon {
            position: absolute;
            top: 40%;
            left: 45%;
            font-size: 30px;
        }

        .youtube-icon {
            position: absolute;
            top: 40%;
            left: 45%;
            font-size: 30px;
        }

            .youtube-icon:hover {
                font-size: 40px;
                color: red;
            }

        .titlebar_title {
            color: #333;
        }
    </style>
    <style>
        chat-main-box .chat-left-aside {
            position: relative;
            width: 100% !important;
            float: none !important;
            z-index: 9;
            top: 0px;
            border-right: 1px solid #4F5467;
        }

        .chat-main-box .chat-left-aside .chat-left-inner .style-none li a {
            padding: 10px;
        }

        .chat-main-box .chat-left-aside {
            width: 60px !important;
        }

        .chat-list li .chat-content h5 {
            font-size: 12px !important;
        }

        .chat-main-box .chat-right-aside-mini {
            width: calc(100% - 60px) !important;
            float: left;
        }

        .chat-main-box .chat-right-aside .chat-list li .chat-time {
            display: block;
            text-align: left;
            font-size: 8px !important;
            display: none;
        }

        .chat-card-body {
            flex: 1 1 auto;
            min-height: 1px;
            padding: 0.25rem !important;
        }

        .chat-list li .chat-content .box {
            font-size: 10px;
        }

        .chat-list li .chat-img img {
            width: 25px !important;
            border-radius: 100%;
        }

        .chat-main-box .chat-right-aside .chat-rbox {
            min-height: 200px;
        }
    </style>

}



<div class="row page-titles">
    <div class="col-md-5 align-self-center">
        <h4 class="text-themecolor">Observations</h4>
    </div>
    <div class="col-md-7 align-self-center text-right">
        <div class="d-flex justify-content-end align-items-center">
            <ol class="breadcrumb">


                <li class="breadcrumb-item"><a href="javascript:void(0)"> Home</a></li>
                <li class="breadcrumb-item">Market Research </li>
                <li class="breadcrumb-item active">Observations </li>
            </ol>

            @if (Model == (int)EntityState.Old)
            {
                @*<button type="button" class="btn btn-info d-none d-lg-block m-l-15 JsDownloadIdea"> <i class="fas fa-file-pdf"></i> Download</button>*@
                <button type="button" class="btn btn-primary d-none d-lg-block m-l-15 JsUpdate"> Update</button>

            }


        </div>
    </div>
</div>
<div id="myDialog3">
    <iframe id="cartoonVideo" width="100%" height="100%" src="@(ViewBag.Video != null ?  ViewBag.Video.VideoUrl : "")" auto frameborder="0" allowfullscreen></iframe>
</div>
@{
    if (Model == (int)EntityState.New) { Html.RenderAction("New", "MarketResearch", new { Type = (int)Business_Model.Model.ModuleSection.MarketResearch_Observation }); }
    else { Html.RenderAction("Detail", "MarketResearch", new { Type = (int)Business_Model.Model.ModuleSection.MarketResearch_Observation }); }
}








@section PageScript
{
    <!-- This Page JS -->
    <script src="~/assets/node_modules/wizard/jquery.steps.min.js"></script>
    <script src="~/assets/node_modules/wizard/jquery.validate.min.js"></script>

    <script src="~/assets/node_modules/sticky-kit-master/dist/sticky-kit.min.js"></script>
    <script src="~/assets/node_modules/sparkline/jquery.sparkline.min.js"></script>

    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script src="~/assets/node_modules/Magnific-Popup-master/dist/jquery.magnific-popup.min.js"></script>
    <script src="~/assets/node_modules/Magnific-Popup-master/dist/jquery.magnific-popup-init.js"></script>
    <script src="~/assets/node_modules/draggable-resizable-modal/js/modalbox.js"></script>
    <script src="~/assets/node_modules/switchery/dist/switchery.min.js"></script>
    <script src="~/assets/node_modules/bootstrap-select/bootstrap-select.min.js" type="text/javascript"></script>
    <script src="~/assetsss/js/jq.progress-bar.js"></script>
    <script src="@Url.ContentVersioned("~/page_script/observation.js")"></script>

    <script>

        $("#myDialog3").myOwnDialog(
            {
                autoClose: false,
                width: "400",
                pos_y: "50",
                height: "300",
                bg_color: 'white',
                title: '@(ViewBag.Video != null ?  ViewBag.Video.Title : "")',
                body_margin:  '@(ViewBag.Video != null ?  ViewBag.Video.Duration : "")',
                body_overflow_x: "hidden",
                body_overflow_y: "scroll",
                movable: true,
                resizable: true,
                touchOutsideForClose: false
            });

    </script>
    @{
        if (Model == (int)EntityState.New)
        {
            <script>setTimeout(function () { $("#myDialog3").myOwnDialog("open"); }, 1000);</script>
        }
    }
    @*<script>
        // This is for the sticky sidebar
        $(".stickyside").stick_in_parent({
            offset_top: 100
        });

        $('.stickyside a').click(function () {
            $('html, body').animate({
                scrollTop: $($(this).attr('href')).offset().top - 100
            }, 500);
            return false;
        });
        // This is auto select left sidebar
        // Cache selectors
        // Cache selectors
        var lastId,
            topMenu = $(".stickyside"),
            topMenuHeight = topMenu.outerHeight(),
            // All list items
            menuItems = topMenu.find("a"),
            // Anchors corresponding to menu items
            scrollItems = menuItems.map(function () {
                var item = $($(this).attr("href"));
                if (item.length) {
                    return item;
                }
            });

        // Bind click handler to menu items


        // Bind to scroll
        $(window).scroll(function () {
            // Get container scroll position
            var fromTop = $(this).scrollTop() + topMenuHeight - 250;

            // Get id of current scroll item
            var cur = scrollItems.map(function () {
                if ($(this).offset().top < fromTop)
                    return this;
            });

            // Get the id of the current element
            cur = cur[cur.length - 1];
            var id = cur && cur.length ? cur[0].id : "";


            if (lastId !== id) {
                lastId = id;
                // Set/remove active class
                menuItems
                    .removeClass("active")
                    .filter("[href='#" + id + "']").addClass("activee");
            }
        });
    </script>*@
    <script>
        $(document).ready(function () {
            /* Get iframe src attribute value i.e. YouTube video url
            and store it in a variable */
            var url = $("#cartoonVideo").attr('src');


            /* Assign empty url value to the iframe src attribute when
            modal hide, which stop the video playing */
            $("#myModal").on('hide.bs.modal', function () {
                $("#cartoonVideo").attr('src', '');
            });

            /* Assign the initially stored url back to the iframe src
            attribute when modal is displayed again */
            $("#myModal").on('show.bs.modal', function () {
                $("#cartoonVideo").attr('src', url);
            });


        });

    </script>
    <script>
        $(document).ready(function () {
            $('.selectpicker').selectpicker('refresh');

        });
    </script>
}