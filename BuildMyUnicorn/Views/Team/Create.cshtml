@using Business_Model.Model;
@using System.Configuration;
@model Business_Model.Model.Client
@{

    var RoleList = ViewBag.Role as IEnumerable<Business_Model.Model.MasterCommon>;
    var arrayRoles = String.IsNullOrEmpty(Model.RoleInCompany) == false ? Model.RoleInCompany.Split(',').ToArray() : new string[0];
    List<string> roleArray = new List<string>();
}
@section PageStyle
{

    <link href="~/assets/node_modules/toast-master/css/jquery.toast.css" rel="stylesheet">
    <style>
        .dz-error-mark {
            background: #b10429;
            display: inline-block;
            padding: 5px;
            position: absolute;
            top: 0;
            right: 0;
            cursor: pointer;
            color: #fff;
        }

        .carousel-inner > .item > a > img, .carousel-inner > .item > img, .img-responsive, .thumbnail a > img, .thumbnail > img {
            display: block;
            max-width: 100%;
            height: 110px !important;
            margin: 0px auto;
        }

        #imagepreview {
            height: 120px;
            border: 1px solid #3b3838;
            width: 90%;
            text-align: center;
        }

        #my_img {
            height: 120px;
        }

        .img-thumbnail {
            height: 210px;
        }
    </style>
}

<div class="row page-titles">
    <div class="col-md-5 align-self-center">
        <h4 class="text-themecolor"><a href="~/Team"><i class="mdi mdi-arrow-left"></i> Back to Team</a></h4>
    </div>
    <div class="col-md-7 align-self-center text-right">
        <div class="d-flex justify-content-end align-items-center">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="javascript:void(0)">Home</a></li>
                <li class="breadcrumb-item active">The Business  </li>
                <li class="breadcrumb-item active">Team  </li>
            </ol>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-12">

        <div class="card">
            <form id="frm_ClientTeam" class="form-material m-t-40" method="post">
                <input type="hidden" id="ImageID" name="ImageID" value="@Model.ImageID" />
                <input type="hidden" id="RoleInCompany" name="RoleInCompany" value="@Model.RoleInCompany" />
                <input type="hidden" id="ClientID" name="ClientID" value="@Model.ClientID" />
                <input type="hidden" id="TeamClientID" name="TeamClientID" value="@Model.TeamClientID" />
                <input type="hidden" id="EntityState" name="EntityState" value="@Model.EntityState" />

                <div class="card-body">



                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>First Name</label>
                                <input type="text" id="FirstName" name="FirstName" class="form-control form-control-line" value="@Model.FirstName" data-parsley-required="true" data-parsley-required-message="Firstname is required">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>Last Name</label>
                                <input type="text" id="LastName" name="LastName" class="form-control form-control-line" value="@Model.LastName" data-parsley-required="true" data-parsley-required-message="Lastname is required">
                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>Email</label>
                                <input type="text" id="Email" name="Email" class="form-control form-control-line" value="@Model.Email" data-parsley-required="true" data-parsley-required-message="Email is required">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>Phone</label>
                                <input type="text" id="Phone" name="Phone" class="form-control form-control-line" value="@Model.Phone">
                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>Type</label>

                                <select class="custom-select col-12" id="MemberType" name="MemberType">
                                    @*<option>- Please select -</option>*@
                                    <option value="@((int)MemberType.TeamMember)" @(Model.MemberType == MemberType.TeamMember ? "selected" : "")>Team Member</option>
                                    <option value="@((int)MemberType.Contributor)" @(Model.MemberType == MemberType.Contributor ? "selected" : "")>Contributor</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>Country</label>
                                @Html.DropDownList("CountryID", new SelectList(ViewBag.CountryList, "CountryID", "CountryName", Model.CountryID), "- Please select -", new { @class = "custom-select col-12" })

                            </div>
                        </div>

                    </div>
                    <div class="form-group">
                        <label>Role at company</label>
                        <div class="row">

                            <div class="col-md-6">
                                @foreach (var item in RoleList)
                                {


                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" class="custom-control-input" id="@item.ID" name="_RoleInCompany" value="@item.ID" @(Array.Exists(arrayRoles, x => x == Convert.ToString(item.ID)) == true ? "Checked" : "")>
                                        <label class="custom-control-label" for="@item.ID">@item.Value</label>
                                    </div>

                                }

                            </div>

                            <div class="col-md-6">

                                <div class="form-group">
                                    <label for="wint1">Photograph</label>
                                    <div class="fileupload">

                                        <div class="btn btn-default btn-file" style="position: relative; text-align:right">
                                            <input type="button" class="btn btn-primary pull-right" style="display:inline !important" value="Choose File" />
                                            <input type="file" id="ImageUpload" style="position: absolute;top: 0;right: 0;width: 100%;height: 100%;margin: 0;opacity: 0;">

                                        </div>

                                        <div class="dropzone" id="imagepreview" style="padding:5px;">
                                            <div id="my_img" class="dz-preview dz-file-preview dz-error" style="position:relative;text-align:center"><img src="@ConfigurationManager.AppSettings["ClientBaseUrl"]/Content/Images/@(Model.ImageID == null ? "profile-dummy.png" : Model.ImageID)" class="img-responsive img-thumbnail" /></div>
                                        </div>

                                    </div>


                                </div>
                            </div>


                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>Linked in Profile</label>
                                <input type="text" id="LinkedProfile" name="LinkedProfile" class="form-control" value="@Model.LinkedProfile">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>Short Bio</label>
                                <input type="text" id="ShortBio" name="ShortBio" class="form-control" value="@Model.ShortBio">
                            </div>
                        </div>

                    </div>


                </div>

                <div class="form-group text-right">
                    @if (Model.ClientID == Guid.Empty)
                    {
                        <button type="submit" class="btn btn-primary reload jsSubmit">Save &amp; Add Another</button>
                        <button type="submit" class="btn btn-info return jsSubmit">Save &amp; Done</button>
                    }
                    else
                    {
                        <button type="submit" class="btn btn-primary reload jsSubmit">Update &amp; Add Another</button>
                        <button type="submit" class="btn btn-info return jsSubmit">Update &amp; Done</button>
                    }

                </div>
            </form>
        </div>






    </div>
</div>

@section PageScript
{
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="~/assets/node_modules/toast-master/js/jquery.toast.js"></script>
    <script src="@Url.ContentVersioned("~/page_script/team.js")"></script>


}